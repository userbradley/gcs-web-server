<!DOCTYPE html>
<html>
<head>
    <title>Index YAML Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        h1 {
            margin-bottom: 20px;
        }

        .card {
            background-color: #f5f5f5;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
            cursor: pointer;
        }

        .card:hover {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
<h1>Index YAML Viewer</h1>

<div id="cardsContainer"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
<script>
    // Fetch the index.yaml file
    fetch('index.yaml')
        .then(response => response.text())
        .then(data => {
            // Parse the YAML data into JavaScript object
            const yamlData = jsyaml.safeLoad(data);

            // Get the entries from the YAML data
            const entries = yamlData.entries;

            // Get the cards container element
            const cardsContainer = document.getElementById('cardsContainer');

            // Iterate over each entry
            for (const entryKey in entries) {
                const entry = entries[entryKey];

                // Iterate over each version in the entry
                for (const version of entry) {
                    // Create a card element for each version
                    const card = document.createElement('div');
                    card.className = 'card';

                    // Set the version as the card's text content
                    card.textContent = version.version;

                    // Add a click event listener to the card
                    card.addEventListener('click', () => {
                        // Show the "helm pull {version}" message
                        alert(`helm pull ${version.version}`);
                    });

                    // Append the card to the cards container
                    cardsContainer.appendChild(card);
                }
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
</script>
</body>
</html>
